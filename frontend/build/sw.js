importScripts("https://cdn.jsdelivr.net/npm/workbox-cdn@4.2.0/workbox/workbox-sw.js"),console.log("service worker \u6CE8\u518C\u6210\u529F"),self.addEventListener("install",e=>{console.log("Service worker \u5B89\u88C5\u6210\u529F"),self.skipWaiting()}),self.addEventListener("activate",()=>{console.log("Service worker \u6FC0\u6D3B||\u5E94\u7528\u66F4\u65B0 \u6210\u529F")}),workbox&&(workbox.core.setCacheNameDetails({prefix:"AKA",suffix:"0.1 sw-test",precache:"precache",runtime:"runtime"}),workbox.routing.registerRoute(/\/js*/,new workbox.strategies.CacheFirst({plugins:[new workbox.expiration.Plugin({maxAgeSeconds:60*60*24*7})],cacheName:"Static Sources"})),workbox.routing.registerRoute(/\/css*/,new workbox.strategies.CacheFirst({plugins:[new workbox.expiration.Plugin({maxAgeSeconds:60*60*24*7})],cacheName:"Static Sources"})),workbox.routing.registerRoute(/\/assets*/,new workbox.strategies.CacheFirst({plugins:[new workbox.expiration.Plugin({maxAgeSeconds:60*60*24*7})],cacheName:"Static Sources"})),workbox.routing.registerRoute(/.*cdn\.jsdelivr\.net/,new workbox.strategies.CacheFirst({plugins:[new workbox.expiration.Plugin({maxAgeSeconds:60*60*24*24*30})],cacheName:"jsDelivr"})),workbox.routing.registerRoute(/\/api*/,new workbox.strategies.NetworkFirst({plugins:[new workbox.expiration.Plugin({maxAgeSeconds:60*5})],cacheName:"Others"})),workbox.routing.registerRoute(/\//,new workbox.strategies.StaleWhileRevalidate({plugins:[new workbox.expiration.Plugin({maxAgeSeconds:60*60*4})],cacheName:"index"})),workbox.routing.registerRoute(/\*/,new workbox.strategies.StaleWhileRevalidate({plugins:[new workbox.expiration.Plugin({maxAgeSeconds:60*5})],cacheName:"Others"})));
